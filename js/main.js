(()=>{var C=[],r={q:e=>document.querySelector(e),qa:e=>document.querySelectorAll(e),gId:e=>document.getElementById(e),debounce(e,t,n){let o;return function(){let i=arguments;clearTimeout(o),o=setTimeout(()=>{o=null,n||e.apply(this,i)},t),n&&!o&&e.apply(this,i)}},wrap(e,t,n={}){if(typeof t=="string"){t=document.createElement(t);for(let[o,i]of Object.entries(n))t.setAttribute(o,i)}e.parentNode.insertBefore(t,e),t.appendChild(e)},urlFor(e){return/^(#|\/\/|http(s)?:)/.test(e)?e:(window.ASYNC_CONFIG.root+e).replace(/\/{2,}/g,"/")},siblings:(e,t)=>[...e.parentNode.children].filter(n=>t?n!==e&&n.matches(t):n!==e),message(e,t="success"){let n=document.createElement("div");n.className=`trm-message ${t}`,n.style.top=`${30+C.length*60}px`,n.innerText=e,document.body.append(n),C.push(n),setTimeout(()=>{C=C.filter(o=>o!==n),document.body.removeChild(n),C.forEach((o,i)=>{o.style.top=`${30+i*60}px`})},2e3)},loadScript(e,t){return new Promise((n,o)=>{if(t)n();else{let i=document.createElement("script");i.src=e,i.setAttribute("async","false"),i.onerror=o,i.onload=()=>n(),document.head.appendChild(i)}})},runScriptBlock(e){let t=e.text||e.textContent||e.innerHTML||"",n=document.head||document.querySelector("head")||document.documentElement,o=document.createElement("script");if(t.match("document.write"))return console&&console.log&&console.log("Script contains document.write. Can\u2019t be executed correctly. Code skipped "),!1;try{o.appendChild(document.createTextNode(t))}catch{o.text=t}n.appendChild(o),n.contains(o)&&n.removeChild(o)},icons(e,t="font"){return t==="symbol"?`<svg class="symbol-icon " aria-hidden="true"><use xlink:href="#${e}"></use></svg>`:`<i class="iconfont ${e}"></i>`},diffDate:(e,t=!1)=>{let n=new Date,o=new Date(e),i=n.getTime()-o.getTime(),s=1e3*60,c=s*60,a=c*24,m=a*30,l;if(t){let h=i/m,g=i/a,d=i/c,f=i/s;h>12?l=o.toISOString().slice(0,10):h>=1?l=parseInt(h.toString())+" "+window.ASYNC_CONFIG.date_suffix.month:g>=1?l=parseInt(g.toString())+" "+window.ASYNC_CONFIG.date_suffix.day:d>=1?l=parseInt(d.toString())+" "+window.ASYNC_CONFIG.date_suffix.hour:f>=1?l=parseInt(f.toString())+" "+window.ASYNC_CONFIG.date_suffix.min:l=window.ASYNC_CONFIG.date_suffix.just}else l=parseInt((i/a).toString());return l},getRandomItem(e){if(Array.isArray(e)){if(e.length===0)return;let t=Math.floor(Math.random()*e.length);return e[t]}return e},scrollBarWidth(){let e=document.createElement("div");e.className="async-scrollbar__wrap",e.style.visibility="hidden",e.style.width="100px",e.style.position="absolute",e.style.top="-9999px",document.body.appendChild(e);let t=e.offsetWidth;e.style.overflow="scroll";let n=document.createElement("div");n.style.width="100%",e.appendChild(n);let o=n.offsetWidth;return e.parentNode.removeChild(e),t-o},clickoutside(e,t){return t.includes(e)?!1:e.parentElement?r.clickoutside(e.parentElement,t):!0},isInViewPortOfOne(e){let t=r.viewPortHeight(),o=r.scrollTop()+t,{bottom:i,top:s,height:c}=e.getBoundingClientRect();return i>0&&s<o?{is:!0,ratio:s<0?Math.abs(s/c):0}:{is:!1}},scrollTop(){let e=window.pageXOffset!==void 0,t=(document.compatMode||"")==="CSS1Compat";return e?window.pageYOffset:t?document.documentElement.scrollTop:document.body.scrollTop},viewPortHeight(){return window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight}};var j=(e=600)=>new Promise(t=>{r.q("html").classList.add("is-animating"),r.q(".trm-scroll-container").style.opacity="0",setTimeout(()=>{r.q("html").classList.remove("is-animating"),r.q(".trm-scroll-container").style.opacity="1",t()},e)}),H=(e=600)=>{let t=r.q("#trm-scroll-container"),n=r.q(".trm-mode-swich-animation-frame");return new Promise(o=>{n.classList.add("trm-active"),t.style.opacity="0",setTimeout(()=>{setTimeout(()=>{n.classList.remove("trm-active"),t.style.opacity="1"},e),o()},e)})},W=()=>{document.body.classList.toggle("trm-single-column")},J=()=>{let e=document.body,t=document.createElement("button");t.type="button",t.title=window.ASYNC_CONFIG.i18n.exit_read_mode,t.className="trm-exit-readmode trm-glow",t.innerHTML=r.icons(window.ASYNC_CONFIG.icons.close,window.ASYNC_CONFIG.icontype);let n=()=>new Promise(s=>{let c=document.getElementById("article-container");if(c){let a=Array.from(c.children);for(let m=0;m<a.length;m++){let l=a[m],h=r.isInViewPortOfOne(l);if(h.is){s({el:l,ratio:h.ratio});return}}s()}else s()}),o=s=>{if(s&&s.ratio>0){let{top:c,height:a}=s.el.getBoundingClientRect(),m=s.ratio*a+c+r.scrollTop();window.scrollTo({top:m})}},i=()=>{n().then(s=>{e.classList.remove("trm-read-mode"),t.removeEventListener("click",i),t.remove(),o(s)})};n().then(s=>{e.classList.add("trm-read-mode"),e.appendChild(t),t.addEventListener("click",i),o(s)})},z=e=>{H().then(()=>{let t=e==="style-dark"?"add":"remove";r.q(".trm-mode-swich-animation").classList[t]("trm-active"),document.documentElement.classList[t]("dark"),localStorage.setItem("theme-mode",e),N(),typeof window.changeGiscusTheme=="function"&&window.changeGiscusTheme()})},N=(e="--theme-bg-color")=>{let t=getComputedStyle(document.documentElement).getPropertyValue(e),n=r.q('meta[name="theme-color"]');t&&n&&(n.content=t)},V=(e,t,n)=>{let o=r.q("#post-toc");o&&!o.classList.contains("fixed")&&(e===void 0&&(e=!o.classList.contains("active")),e&&(t&&n?(n+o.clientHeight>window.innerHeight&&(n=Math.max(window.innerHeight-o.clientHeight,0)),t+o.clientWidth>window.innerWidth&&(t=Math.max(window.innerWidth-o.clientWidth,0)),o.style.left=`${t}px`,o.style.top=`${n}px`,o.style.right="unset",o.style.bottom="unset"):(o.style.removeProperty("left"),o.style.removeProperty("top"),o.style.removeProperty("right"),o.style.removeProperty("bottom"))),e?o.classList.add("active"):o.classList.remove("active"))},b={pageLoading:j,themeLoading:H,switchSingleColumn:W,switchReadMode:J,switchThemeMode:z,setThemeColor:N,switchToc:V};var x=class{constructor(t){this.name="HeadPlugin";this.isSwupPlugin=!0;this.defaultOptions={persistTags:!1,persistAssets:!1,specialTags:!1};this.getHeadAndReplace=()=>{let t=this.getHeadChildren(),n=this.getNextHeadChildren();this.replaceTags(t,n)};this.getHeadChildren=()=>document.head.children;this.getNextHeadChildren=()=>{let t=this.swup.cache.getCurrentPage().originalContent.replace("<head",'<div id="swupHead"').replace("</head>","</div>"),n=document.createElement("div");n.innerHTML=t;let o=n.querySelector("#swupHead").children;return n.innerHTML="",n=null,o};this.replaceTags=(t,n)=>{let o=document.head,i=!!document.querySelector("[data-swup-theme]"),s=this.getTagsToAdd(t,n,i),c=this.getTagsToRemove(t,n);c.reverse().forEach(a=>{o.removeChild(a.tag)}),s.forEach(a=>{o.insertBefore(a.tag,o.children[a.index+1]||null)}),this.swup.log(`Removed ${c.length} / added ${s.length} tags in head`)};this.compareTags=(t,n)=>{let o=t.outerHTML,i=n.outerHTML;return o===i};this.getTagsToRemove=(t,n)=>{let o=[];for(let i=0;i<t.length;i++){let s=null;for(let c=0;c<n.length;c++)if(this.compareTags(t[i],n[c])){s=c;break}s==null&&t[i].getAttribute("data-async-theme")===null&&!this.isMatchesTag(t[i],this.options.persistTags)&&o.push({tag:t[i]})}return o};this.getTagsToAdd=(t,n,o)=>{let i=[];for(let s=0;s<n.length;s++){let c=null;for(let a=0;a<t.length;a++)if(this.compareTags(t[a],n[s])){c=a;break}c==null&&!this.isMatchesTag(n[s],this.options.specialTags)&&i.push({index:o?s+1:s,tag:n[s]})}return i};this.isMatchesTag=(t,n=this.options.persistTags)=>typeof n=="function"?n(t):typeof n=="string"?t.matches(n):!!n;this.updateHtmlLangAttribute=()=>{let t=document.documentElement,o=new DOMParser().parseFromString(this.swup.cache.getCurrentPage().originalContent,"text/html").documentElement.lang;t.lang!==o&&(this.swup.log(`Updated lang attribute: ${t.lang} > ${o}`),t.lang=o)};this.options={...this.defaultOptions,...t},this.options.persistAssets&&!this.options.persistTags&&(this.options.persistTags="link[rel=stylesheet], script[src], style")}mount(){this.swup.on("contentReplaced",this.getHeadAndReplace),this.swup.on("contentReplaced",this.updateHtmlLangAttribute)}unmount(){this.swup.off("contentReplaced",this.getHeadAndReplace),this.swup.off("contentReplaced",this.updateHtmlLangAttribute)}},I=x;var X=e=>Array.prototype.slice.call(e),E=class{constructor(t={}){this.name="ScriptPlugin";this.isSwupPlugin=!0;this.defaultOptions={selectors:"script[data-swup-reload-script]"};this.getScriptAndInsert=()=>{let t=this.getNextScriptChildren();t.length&&(async o=>{let i=Array.from(document.scripts);for(let s=0;s<o.length;s++){let c=o[s];c.src?i.findIndex(a=>a.src===c.src&&!a.dataset.reset)<0&&await this.loadScript(c):r.runScriptBlock(c)}})(t)};this.options={...this.defaultOptions,...t}}mount(){this.swup.on("contentReplaced",this.getScriptAndInsert)}unmount(){this.swup.off("contentReplaced",this.getScriptAndInsert)}loadScript(t){return new Promise((n,o)=>{let i=document.createElement("script");for(let{name:s,value:c}of X(t.attributes))i.setAttribute(s,c);i.textContent=t.textContent,i.setAttribute("async","false"),i.onload=()=>{n(),document.body.contains(i)&&document.body.removeChild(i)},i.onerror=o,document.body.appendChild(i)})}getNextScriptChildren(){let t=this.swup.cache.getCurrentPage().originalContent.replace("<body",'<div id="swupBody"').replace("</body>","</div>"),n=document.createElement("div");n.innerHTML=t;let o=n.querySelector("#swupBody").querySelectorAll(this.options.selectors);return n.innerHTML="",n=null,o}},A=E;async function K(){try{let n=await fetch("https://api.allorigins.win/raw?url="+encodeURIComponent("https://tieba.baidu.com/hottopic/browse/topicList"));if(!n.ok)throw new Error(`HTTP error! status: ${n.status}`);let o=await n.json(),i=JSON.parse(o.contents);return i&&i.errno===0&&i.data&&i.data.bang_topic&&Array.isArray(i.data.bang_topic.topic_list)?i.data.bang_topic.topic_list.map(s=>({title:s.topic_name,url:s.topic_url})):(console.error("Tieba API response format is not as expected."),[])}catch(e){return console.error("Error fetching Tieba hot search:",e),[]}}async function Q(){try{let n=await fetch("https://api.allorigins.win/raw?url="+encodeURIComponent("https://blog.csdn.net/phoenix/web/blog/hot-rank"));if(!n.ok)throw new Error(`HTTP error! status: ${n.status}`);let o=await n.json(),i=JSON.parse(o.contents);return i&&i.code===200&&Array.isArray(i.data)?i.data.map(s=>({title:s.articleTitle,url:s.articleDetailUrl})):(console.error("CSDN API response format is not as expected."),[])}catch(e){return console.error("Error fetching CSDN hot search:",e),[]}}function L(e,t){let n=document.getElementById(e);if(n){let o=document.createElement("ol");o.className="trm-list",t.forEach(i=>{let s=document.createElement("li"),c=document.createElement("a");c.href=i.url,c.target="_blank",c.textContent=i.title,s.appendChild(c),o.appendChild(s)}),n.innerHTML="",n.appendChild(o)}}async function Z(){try{let n=await fetch("https://api.allorigins.win/raw?url="+encodeURIComponent("https://api.bilibili.com/x/web-interface/popular"));if(!n.ok)throw new Error(`HTTP error! status: ${n.status}`);let o=await n.json(),i=JSON.parse(o.contents);return i&&i.code===0&&i.data&&Array.isArray(i.data.list)?i.data.list.map(s=>({title:s.title,url:s.short_link_v2||s.uri})):(console.error("Bilibili API response format is not as expected."),[])}catch(e){return console.error("Error fetching Bilibili hot search:",e),[]}}async function T(){let e=await K();L("tieba-hot-search",e);let t=await Q();L("csdn-hot-search",t);let n=await Z();L("bilibili-hot-search",n)}document.addEventListener("DOMContentLoaded",T);document.addEventListener("swup:contentReplaced",T);function _(){window.Fancybox&&(window.Fancybox.bind("[data-fancybox]"),window.Fancybox.bind('[data-fancybox="light"],[data-fancybox="article"]',{groupAll:!0}),window.Fancybox.bind('[data-fancybox="dark"],[data-fancybox="article"]',{groupAll:!0}),window.Fancybox.defaults.Hash=!1)}function M(){window.Swiper&&new window.Swiper(".trm-slideshow",{slidesPerView:1,effect:"fade",parallax:!0,autoplay:!0,speed:1400})}function k(){window.Fancybox&&r.qa("#article-container img:not(.no-fancybox)").forEach(e=>{if(!e.parentNode.dataset.fancybox){let t="article";e.classList.contains("trm-light-icon")?t="light":e.classList.contains("trm-dark-icon")&&(t="dark"),r.wrap(e,"div",{"data-src":e.dataset.src||e.src,"data-fancybox":t})}})}function tt(){let e=[];e.push(new I({specialTags:"#trm-switch-style"})),e.push(new A);let t={containers:["#trm-dynamic-content"],animateHistoryBrowsing:!0,linkSelector:".trm-menu a:not([data-no-swup]), .trm-anima-link:not([data-no-swup])",animationSelector:'[class="trm-swup-animation"]',plugins:e};return new window.Swup(t)}function F(e=!1){let t=r.q("#trm-swich"),n=r.q(".trm-mode-swich-animation"),o=r.q(".trm-mode-swich-animation-frame");if(e){let i=(localStorage.getItem("theme-mode")||window.ASYNC_CONFIG.theme.default)=="style-dark",s=i?"add":"remove";n.classList[s]("trm-active"),o.classList.remove("trm-active"),b.setThemeColor(),t&&(t.checked=i)}t&&t.addEventListener("change",function(){b.switchThemeMode(this.checked?"style-dark":"style-light")})}function O(){let e=r.q(".trm-banner-cover"),t=r.q(".trm-sidebar"),n=r.q("#trm-back-top"),o=r.q("#scroll-triger"),i=r.q(".trm-fixed-container"),s=new IntersectionObserver(d=>{d.forEach(({isIntersecting:f,target:u})=>{f&&(u.classList.add("trm-active-el"),s.unobserve(u))})},{threshold:[0,1],rootMargin:"0px 0px -40px 0px"}),c=d=>window.scrollTo({top:0,behavior:d?"smooth":"auto"}),a=function(){let d=r.scrollTop(),{scrollHeight:f,clientHeight:u}=document.documentElement,w=d>500?"add":"remove";i==null||i.classList[w]("offset");let y=parseInt((d/(f-u)*100).toString());n&&(n.style.backgroundSize=`100% ${y}%`);let p=d>=70?"add":"remove";t&&(t.classList[p]("fixed"),m()),e&&(e.style.transform=`matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, ${Math.min(d/3,100)}, 0, 1)`),b.switchToc(!1)},m=function(){t&&(window.innerWidth>992&&t.classList.contains("fixed")?(t.style.left=t.parentElement.offsetLeft+20+"px",t.style.width=`${t.parentElement.clientWidth-40}px`):(t.style.left="unset",t.style.width="auto"))},l=function(){let d=r.q(".trm-banner");d&&window.scrollTo({top:d.clientHeight-20,behavior:"smooth"})},h=new MutationObserver(()=>m());(()=>{r.qa(".trm-scroll-animation").forEach(d=>d&&s.observe(d)),a(),m(),h.observe(document.body,{attributeFilter:["style","class"]})})(),n==null||n.addEventListener("click",c),o==null||o.addEventListener("click",l),window.addEventListener("scroll",a),window.addEventListener("resize",m),document.addEventListener("swup:contentReplaced",()=>{s.disconnect(),n==null||n.removeEventListener("click",c),o==null||o.removeEventListener("click",l),window.removeEventListener("scroll",a),window.removeEventListener("resize",m),c(),h.disconnect()})}function P(e=2e3){let t=(n,o,i,s)=>{i+=o,i>=s?n.innerText=s.toString():(n.innerText=parseInt(i.toString()).toString(),requestAnimationFrame(()=>t(n,o,i,s)))};r.qa(".trm-counter").forEach(n=>{let o=Number(n.innerText);if(!isNaN(o)){let i=o/(e/16);t(n,i,0,o)}})}function q(){let{i18n:e,toc:t,icons:n,icontype:o}=window.ASYNC_CONFIG,i=r.q("#post-toc"),s=r.q(".post-toc-btn");if(i){let c=i.querySelector("#post-toc-top"),a=i.querySelector(".trm-post-toc-header");c.addEventListener("click",function(){i.classList.contains("fixed")?(i.classList.remove("fixed","active"),c.innerHTML=e.sticky):(i.classList.add("fixed"),c.innerHTML=r.icons(n.close,o))}),i.addEventListener("click",function(l){l.preventDefault(),l.stopPropagation();let h=l.target,g=h.getAttribute("href");if(g?g=g.replace(/^#/,""):g=h.parentElement.getAttribute("href").replace(/^#/,""),!g)return;let d=document.querySelector(`[id="${g}"]`);if(!d)return;let f=d.getBoundingClientRect().top+r.scrollTop();return window.scrollTo({top:f-110,behavior:"smooth"}),!1}),a.addEventListener("mousedown",function(l){if(!i.classList.contains("fixed"))return;let h=a.getBoundingClientRect(),g=l.clientX,d=l.clientY,f=!0;document.onmousemove=function(u){if(f){let w=u.clientX,y=u.clientY;i.style.left=`${w-(g-h.x)}px`,i.style.top=`${y-(d-h.y)}px`,i.style.right="unset",i.style.bottom="unset",i.style.opacity=".6"}},document.onmouseup=function(){f=!1,document.onmousemove=null,document.onmouseup=null,i.style.removeProperty("opacity")}}),t.post_title&&i.querySelectorAll(".trm-toc-link").forEach(l=>{let h=l.getAttribute("href").replace(/^#/,""),g=r.q(`[id="${h}"]`);if(!g)return;let d=document.createElement("span");d.className="trm-toc-icon",d.innerHTML=r.icons(n.toc_tag,o),d.onclick=function(f){return b.switchToc(!0,f.clientX,f.clientY),f.preventDefault(),f.stopPropagation(),!1},g.appendChild(d)});let m=l=>{i.classList.contains("fixed")||(r.clickoutside(l.target,[i,s])?i.classList.remove("active"):b.switchToc())};window.addEventListener("click",m),document.addEventListener("swup:contentReplaced",()=>{window.removeEventListener("click",m)})}}function et(){if(window.ASYNC_CONFIG.creative_commons){let{author:e}=window.ASYNC_CONFIG,{i18n:t,creative_commons:n}=window.ASYNC_CONFIG,o=function(i){let s=i.clipboardData||window.clipboardData;if(!s)return;let c=window.getSelection().toString();if(c){i.preventDefault();let a=document.getElementById("post-author");a&&(e=a.innerText.replace(`
`,""));let m=location.href,l=document.getElementById("original-link");l&&(m=l.innerText.replace(`
`,""));let h=`

${t.author}${e}
${t.copyright_link}${m}
${t.copyright_license_title}${t.copyright_license_content.replace("undefined","CC"+n.license.toUpperCase()+" "+(n.license=="zero"?"1.0":"4.0"))}`;s.setData("text/plain",c+h)}};document.addEventListener("copy",o)}}function G(){let{i18n:e,highlight:t,icons:n,icontype:o}=window.ASYNC_CONFIG,i=t.copy,s=t.lang,c=t.height_limit,a=i||s,m=t.plugin==="prismjs",l=t.title==="mac",h=m?'pre[class*="language-"]':"figure.highlight",g=r.qa(h);if(!(a||c||g.length))return;let d=function(){try{let u=this.parentNode.parentNode,w=u.querySelector(".code");if(w||(w=u.querySelector("table")),w||(w=u.querySelector("code")),!w)return;navigator.clipboard.writeText(w.innerText),r.message(e.copy_success)}catch{r.message(e.copy_failure,"warning")}},f=function(){let u=this.classList.contains("expand-done"),w=r.scrollTop(),y=this.parentElement.clientHeight;this.classList.toggle("expand-done");let p=this.parentElement.clientHeight;if(u){let v=y-p;if(v<r.viewPortHeight())return;window.scrollTo({top:w-v})}};r.qa(h).forEach(u=>{let w=document.createDocumentFragment(),y=document.createElement("div");if(y.className=`code-tools ${a&&l?"mac-style":"default-style"}`,s){let p="";m?p=u.getAttribute("data-language")?u.getAttribute("data-language"):"Code":(p=u.getAttribute("class").split(" ")[1],(p==="plain"||p===void 0)&&(p="Code"));let v=document.createElement("span");v.className="code-lang",v.innerText=p,y.append(v)}if(i){let p=document.createElement("span");p.className="copy-button",p.innerHTML=r.icons(n.copy,o),p.addEventListener("click",d),y.append(p)}if(c&&u.offsetHeight>t.height_limit+50){let p=document.createElement("div");p.innerHTML=r.icons(n.double_arrows,o),p.className="code-expand-btn",p.addEventListener("click",f),w.append(p)}if(w.append(y),m){r.wrap(u,"figure",{class:"highlight"}),u.parentNode.insertBefore(w,u);let p=u.querySelector(".caption,caption");p&&u.parentNode.appendChild(p)}else u.insertBefore(w,u.querySelector("table"))})}function D(){r.qa(".trm-tabs .trm-tab > button").forEach(function(e){e.addEventListener("click",function(){let t=this.parentNode;if(!t.classList.contains("active")){let n=t.parentNode.nextElementSibling,o=r.siblings(t,".active")[0];o&&o.classList.remove("active"),t.classList.add("active");let i=this.getAttribute("data-href").replace("#","");[...n.children].forEach(c=>{c.id===i?c.classList.add("active"):c.classList.remove("active")})}})})}function $(){let e=r.qa(".fj-gallery");e.length&&(e.forEach(t=>{t.querySelectorAll("img").forEach(o=>{o.loading="eager",r.wrap(o,"div",{class:"fj-gallery-item","data-src":o.dataset.src||o.src,"data-fancybox":"gallery"})})}),r.loadScript(window.ASYNC_CONFIG.plugin.flickr_justified_gallery,window.fjGallery).then(()=>{e.forEach(t=>{window.fjGallery(t,{itemSelector:".fj-gallery-item",rowHeight:220,gutter:4,onJustify:function(){this.$container.style.opacity="1"}})})}))}function nt(){if(window.ASYNC_CONFIG&&window.ASYNC_CONFIG.favicon.visibilitychange){window.originTitle=document.title;let e,t=Array.from(r.qa('[rel="icon"]')),n=t.map(o=>o.href);document.addEventListener("visibilitychange",function(){document.hidden?(t.forEach(o=>{o.href=r.urlFor(window.ASYNC_CONFIG.favicon.hidden)}),document.title=window.ASYNC_CONFIG.favicon.hideText||window.ASYNC_CONFIG.favicon.hide_text,clearTimeout(e)):(t.forEach((o,i)=>{o.href=n[i]}),document.title=(window.ASYNC_CONFIG.favicon.showText||window.ASYNC_CONFIG.favicon.show_text)+window.originTitle,e=setTimeout(function(){document.title=window.originTitle},2e3))})}}function Y(){let{notice_outdate:e,i18n:t}=window.ASYNC_CONFIG;if(e){let n=r.diffDate(window.PAGE_CONFIG.postUpdate);if(n>=e.limit_day){let o=document.createElement("div");o.className=`post-outdate-notice ${e.position}`,o.textContent=t.notice_outdate_message.replace("undefined",n.toString());let i=document.getElementById("article-container");e.position==="top"?i.insertBefore(o,i.firstChild):i.appendChild(o)}}}function B(){if(window.ASYNC_CONFIG.covers&&window.PAGE_CONFIG.isHome){let e=window.ASYNC_CONFIG.covers;r.qa("div[data-random-img]").forEach(n=>{let o=r.getRandomItem(e);o+=o.includes("?")?`&v=${Math.random()}`:`?v=${Math.random()}`,o&&(n.style.backgroundImage=`url(${o})`)})}}function R(){r.q(".trm-menu-btn").addEventListener("click",function(){r.q(".trm-menu-btn,.trm-right-side").classList.toggle("trm-active")})}function ot(){let e=t=>console.log(t,"color: white; background: #0078E7; padding:5px 0;margin: 0 0 2px 0;border-radius: 4px 0 0 4px;","padding: 4px;border:1px solid #0078E7;border-radius: 0 4px 4px 0; background: linear-gradient(70deg, #e3f9eb, #d1dbff);");e(`%c \u{1F680} Hexo-Theme-Async ${window.ASYNC_CONFIG.theme_version=="0.0.0"?"Github":window.ASYNC_CONFIG.theme_version} %c https://github.com/MaLuns/hexo-theme-async `),e("%c \u{1F4D1} Hexo-Theme-Async Docs %c https://hexo-theme-async.imalun.com ")}function U(){var t;let e=window.ASYNC_CONFIG.live_time;if(e!=null&&e.start_time){let n=new Date(e.start_time),i=new Date().getTime()-n.getTime(),s=24*60*60*1e3,c=Math.floor(i/s),a=document.querySelector(".blog-run-long");a&&(a.innerHTML=(t=e==null?void 0:e.prefix)==null?void 0:t.replace("undefined",`<span class="trm-accent-color"> ${c} </span>`))}}window.asyncFun=b;function S(){ot(),b.pageLoading(),nt(),window.PAGE_CONFIG.isPost&&Y(),$(),k(),G(),D(),window.ASYNC_CONFIG.swup&&tt(),R(),F(!0),P(),O(),M(),_(),q(),et(),B(),U(),T(),window.ASYNC_CONFIG.swup&&document.addEventListener("swup:contentReplaced",function(){let e=r.gId("async-page-config");e&&r.runScriptBlock(e),window.PAGE_CONFIG.isPost&&Y(),R(),document.body.classList.remove("trm-read-mode"),U(),$(),k(),G(),D(),r.q(".trm-scroll-container").style.opacity="1",F(!0),P(),O(),M(),_(),q(),B(),T()})}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",S):S();})();
